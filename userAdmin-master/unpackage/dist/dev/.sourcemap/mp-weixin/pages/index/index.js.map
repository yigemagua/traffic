{"version":3,"sources":["uni-app:///main.js","webpack:///E:/微信小程序/小程序源码/userAdmin-master/pages/index/index.vue?a6a3","webpack:///E:/微信小程序/小程序源码/userAdmin-master/pages/index/index.vue?3806","webpack:///E:/微信小程序/小程序源码/userAdmin-master/pages/index/index.vue?24fd","webpack:///E:/微信小程序/小程序源码/userAdmin-master/pages/index/index.vue?17eb","uni-app:///pages/index/index.vue","webpack:///E:/微信小程序/小程序源码/userAdmin-master/pages/index/index.vue?cea8","webpack:///E:/微信小程序/小程序源码/userAdmin-master/pages/index/index.vue?9520"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\ntry {\n  components = {\n    uniStatBreadcrumb: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-stat-breadcrumb/uni-stat-breadcrumb\" */ \"@/components/uni-stat-breadcrumb/uni-stat-breadcrumb.vue\"\n      )\n    },\n    uniNoticeBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar\" */ \"@/uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar.vue\"\n      )\n    },\n    uniStatTabs: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-stat-tabs/uni-stat-tabs\" */ \"@/components/uni-stat-tabs/uni-stat-tabs.vue\"\n      )\n    },\n    uniTable: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-table/uni-table\" */ \"@/uni_modules/uni-table/components/uni-table/uni-table.vue\"\n      )\n    },\n    uniTr: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-tr/uni-tr\" */ \"@/uni_modules/uni-table/components/uni-tr/uni-tr.vue\"\n      )\n    },\n    uniTh: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-th/uni-th\" */ \"@/uni_modules/uni-table/components/uni-th/uni-th.vue\"\n      )\n    },\n    uniTd: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-td/uni-td\" */ \"@/uni_modules/uni-table/components/uni-td/uni-td.vue\"\n      )\n    },\n    fixWindow: function() {\n      return import(\n        /* webpackChunkName: \"components/fix-window/fix-window\" */ \"@/components/fix-window/fix-window.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"fix-top-window\">\n\t\t<view class=\"uni-header\">\n\t\t\t<uni-stat-breadcrumb class=\"uni-stat-breadcrumb-on-phone\" />\n\t\t\t<view class=\"uni-group\">\n\t\t\t\t<view class=\"uni-sub-title hide-on-phone\"></view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"uni-container\">\n\t\t\t<uni-notice-bar v-if=\"!deviceTableData.length && !userTableData.length && !query.platform_id\" showGetMore\n\t\t\t\tshowIcon class=\"mb-m pointer\" text=\"暂无数据, 统计相关功能需开通 uni 统计后才能使用, 如未开通, 点击查看具体流程\"\n\t\t\t\t@click=\"navTo('https://uniapp.dcloud.io/uni-stat-v2.html')\" />\n\t\t\t<view class=\"uni-stat--x mb-m\">\n\t\t\t\t<uni-stat-tabs label=\"平台选择\" type=\"boldLine\" mode=\"platform\" v-model=\"query.platform_id\" />\n\t\t\t</view>\n\t\t\t<!-- <uni-stat-panel :items=\"panelData\" :contrast=\"true\" /> -->\n\t\t\t<view class=\"uni-stat--x p-m\">\n\t\t\t\t<view class=\"uni-stat-card-header\">设备概览</view>\n\t\t\t\t<uni-table :loading=\"loading\" border stripe emptyText=\"暂无数据\">\n\t\t\t\t\t<uni-tr>\n\t\t\t\t\t\t<!-- <uni-th align=\"center\">操作</uni-th> -->\n\t\t\t\t\t\t<template v-for=\"(mapper, index) in deviceTableFields\">\n\t\t\t\t\t\t\t<uni-th v-if=\"mapper.title\" :key=\"index\" align=\"center\">\n\t\t\t\t\t\t\t\t{{mapper.title}}\n\t\t\t\t\t\t\t</uni-th>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr v-for=\"(item ,i) in deviceTableData\" :key=\"i\">\n\t\t\t\t\t\t<template v-for=\"(mapper, index) in deviceTableFields\">\n\t\t\t\t\t\t\t<uni-td v-if=\"mapper.field === 'appid'\" align=\"center\">\n\t\t\t\t\t\t\t\t<view v-if=\"item.appid\" @click=\"navTo('/pages/uni-stat/device/overview/overview', item.appid)\"\n\t\t\t\t\t\t\t\t\tclass=\"link-btn-color\">\n\t\t\t\t\t\t\t\t\t{{item[mapper.field] !== undefined ? item[mapper.field] : '-'}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-else @click=\"navTo('/pages/system/app/add')\" class=\"link-btn-color\">\n\t\t\t\t\t\t\t\t\t需添加此应用的 appid\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t\t<uni-td v-else :key=\"index\" align=\"center\">\n\t\t\t\t\t\t\t\t{{item[mapper.field] !== undefined ? item[mapper.field] : '-'}}\n\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t</uni-table>\n\t\t\t</view>\n\t\t\t<view class=\"uni-stat--x p-m\">\n\t\t\t\t<view class=\"uni-stat-card-header\">注册用户概览</view>\n\t\t\t\t<uni-table :loading=\"loading\" border stripe emptyText=\"暂无数据\">\n\t\t\t\t\t<uni-tr>\n\t\t\t\t\t\t<template v-for=\"(mapper, index) in userTableFields\">\n\t\t\t\t\t\t\t<uni-th v-if=\"mapper.title\" :key=\"index\" align=\"center\">\n\t\t\t\t\t\t\t\t{{mapper.title}}\n\t\t\t\t\t\t\t</uni-th>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t\t<uni-tr v-for=\"(item ,i) in userTableData\" :key=\"i\">\n\t\t\t\t\t\t<template v-for=\"(mapper, index) in userTableFields\">\n\t\t\t\t\t\t\t<uni-td v-if=\"mapper.field === 'appid'\" align=\"center\">\n\t\t\t\t\t\t\t\t<view v-if=\"item.appid\" @click=\"navTo('/pages/uni-stat/user/overview/overview', item.appid)\"\n\t\t\t\t\t\t\t\t\tclass=\"link-btn-color\">\n\t\t\t\t\t\t\t\t\t{{item[mapper.field] !== undefined ? item[mapper.field] : '-'}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-else @click=\"navTo('/pages/system/app/add')\" class=\"link-btn-color\">\n\t\t\t\t\t\t\t\t\t需添加此应用的 appid\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t\t<uni-td v-else :key=\"index\" align=\"center\">\n\t\t\t\t\t\t\t\t{{item[mapper.field] !== undefined ? item[mapper.field] : '-'}}\n\t\t\t\t\t\t\t</uni-td>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</uni-tr>\n\t\t\t\t</uni-table>\n\t\t\t</view>\n\t\t\t<!-- <view class=\"uni-pagination-box\">\n\t\t\t\t<uni-pagination show-icon :page-size=\"pageSize\" :current=\"pageCurrent\" :total=\"tableData.length\" />\n\t\t\t</view> -->\n\t\t</view>\n\n\t\t<!-- #ifndef H5 -->\n\t\t<fix-window />\n\t\t<!-- #endif -->\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\tstringifyQuery,\n\t\tstringifyField,\n\t\tstringifyGroupField,\n\t\tgetTimeOfSomeDayAgo,\n\t\tdivision,\n\t\tformat,\n\t\tparseDateTime,\n\t\tgetFieldTotal\n\t} from '@/js_sdk/uni-stat/util.js'\n\n\timport {\n\t\tdeviceFeildsMap,\n\t\tuserFeildsMap\n\t} from './fieldsMap.js'\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tquery: {\n\t\t\t\t\tplatform_id: '',\n\t\t\t\t\tstart_time: [getTimeOfSomeDayAgo(1), new Date().getTime()]\n\t\t\t\t},\n\t\t\t\tdeviceTableData: [],\n\t\t\t\tuserTableData: [],\n\t\t\t\t// panelData: panelOption,\n\t\t\t\t// 每页数据量\n\t\t\t\tpageSize: 10,\n\t\t\t\t// 当前页\n\t\t\t\tpageCurrent: 1,\n\t\t\t\t// 数据总量\n\t\t\t\ttotal: 0,\n\t\t\t\tloading: false,\n\t\t\t\t// fieldsMap,\n\t\t\t}\n\t\t},\n\t\tonReady() {\n\t\t\tthis.getApps(this.queryStr, deviceFeildsMap, 'device')\n\t\t\tthis.getApps(this.queryStr, userFeildsMap, 'user')\n\t\t},\n\t\twatch: {\n\t\t\tquery: {\n\t\t\t\tdeep: true,\n\t\t\t\thandler(newVal) {\n\t\t\t\t\tthis.getApps(this.queryStr, deviceFeildsMap, 'device')\n\t\t\t\t\tthis.getApps(this.queryStr, userFeildsMap, 'user')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tqueryStr() {\n\t\t\t\tconst defQuery = `(dimension == \"hour\" || dimension == \"day\")`\n\t\t\t\treturn stringifyQuery(this.query) + ' && ' + defQuery\n\t\t\t},\n\n\t\t\tdeviceTableFields() {\n\t\t\t\treturn this.tableFieldsMap(deviceFeildsMap)\n\t\t\t},\n\t\t\tuserTableFields() {\n\t\t\t\treturn this.tableFieldsMap(userFeildsMap)\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\ttableFieldsMap(fieldsMap) {\n\t\t\t\tlet tableFields = []\n\t\t\t\tconst today = []\n\t\t\t\tconst yesterday = []\n\t\t\t\tconst other = []\n\t\t\t\tfor (const mapper of fieldsMap) {\n\t\t\t\t\tif (mapper.field) {\n\t\t\t\t\t\tif (mapper.hasOwnProperty('value')) {\n\t\t\t\t\t\t\tconst t = JSON.parse(JSON.stringify(mapper))\n\t\t\t\t\t\t\tconst y = JSON.parse(JSON.stringify(mapper))\n\t\t\t\t\t\t\tif (mapper.field !== 'total_users' && mapper.field !== 'total_devices') {\n\t\t\t\t\t\t\t\tt.title = '今日' + mapper.title\n\t\t\t\t\t\t\t\tt.field = mapper.field + '_value'\n\t\t\t\t\t\t\t\ty.title = '昨日' + mapper.title\n\t\t\t\t\t\t\t\ty.field = mapper.field + '_contrast'\n\t\t\t\t\t\t\t\ttoday.push(t)\n\t\t\t\t\t\t\t\tyesterday.push(y)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.field = mapper.field + '_value'\n\t\t\t\t\t\t\t\tother.push(t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttableFields.push(mapper)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttableFields = [...tableFields, ...today, ...yesterday, ...other]\n\t\t\t\treturn tableFields\n\t\t\t},\n\n\t\t\tgetApps(query, fieldsMap, type = \"device\") {\n\t\t\t\tthis.loading = true\n\t\t\t\tconst db = uniCloud.database()\n\t\t\t\tconst appList = db.collection('opendb-app-list').getTemp()\n\t\t\t\tconst appDaily = db.collection('uni-stat-result')\n\t\t\t\t\t.where(query)\n\t\t\t\t\t.getTemp()\n\n\t\t\t\tdb.collection(appDaily, appList)\n\t\t\t\t\t.field(\n\t\t\t\t\t\t`${stringifyField(fieldsMap, '', 'value')},stat_date,appid,dimension`\n\t\t\t\t\t)\n\t\t\t\t\t.groupBy(`appid,dimension,stat_date`)\n\t\t\t\t\t.groupField(stringifyGroupField(fieldsMap, '', 'value'))\n\t\t\t\t\t.orderBy(`appid`, 'desc')\n\t\t\t\t\t.get()\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tlet {\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t} = res.result\n\t\t\t\t\t\tthis[`${type}TableData`] = []\n\t\t\t\t\t\tif (!data.length) return\n\t\t\t\t\t\tlet appids = [],\n\t\t\t\t\t\t\ttodays = [],\n\t\t\t\t\t\t\tyesterdays = [],\n\t\t\t\t\t\t\tisToday = parseDateTime(getTimeOfSomeDayAgo(0), '', ''),\n\t\t\t\t\t\t\tisYesterday = parseDateTime(getTimeOfSomeDayAgo(1), '', '')\n\t\t\t\t\t\tfor (const item of data) {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tappid,\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t} = item.appid && item.appid[0] || {}\n\t\t\t\t\t\t\titem.appid = appid\n\t\t\t\t\t\t\titem.name = name\n\n\t\t\t\t\t\t\tif (appids.indexOf(item.appid) < 0) {\n\t\t\t\t\t\t\t\tappids.push(item.appid)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (item.dimension === 'hour' && item.stat_date === isToday) {\n\t\t\t\t\t\t\t\ttodays.push(item)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (item.dimension === 'day' && item.stat_date === isYesterday) {\n\t\t\t\t\t\t\t\tyesterdays.push(item)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst keys = fieldsMap.map(f => f.field).filter(Boolean)\n\t\t\t\t\t\tfor (const appid of appids) {\n\t\t\t\t\t\t\tconst rowData = {}\n\t\t\t\t\t\t\tconst t = todays.find(item => item.appid === appid)\n\t\t\t\t\t\t\tconst y = yesterdays.find(item => item.appid === appid)\n\t\t\t\t\t\t\tfor (const key of keys) {\n\t\t\t\t\t\t\t\tif (key === 'appid' || key === 'name') {\n\t\t\t\t\t\t\t\t\trowData[key] = t && t[key]\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst value = t && t[key]\n\t\t\t\t\t\t\t\t\tconst contrast = y && y[key]\n\t\t\t\t\t\t\t\t\trowData[key + '_value'] = format(value)\n\t\t\t\t\t\t\t\t\trowData[key + '_contrast'] = format(contrast)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis[`${type}TableData`].push(rowData)\n\n\t\t\t\t\t\t\tif (appid) {\n\t\t\t\t\t\t\t\t// total_users 不准确，置空后由 getFieldTotal 处理, appid 不存在时暂不处理\n\t\t\t\t\t\t\t\tt[`total_${type}s`] = 0\n\t\t\t\t\t\t\t\tconst query = JSON.parse(JSON.stringify(this.query))\n\t\t\t\t\t\t\t\tquery.start_time = [getTimeOfSomeDayAgo(0), new Date().getTime()]\n\t\t\t\t\t\t\t\tquery.appid = appid\n\t\t\t\t\t\t\t\tgetFieldTotal.call(this, query, `total_${type}s`).then(total => {\n\t\t\t\t\t\t\t\t\tthis[`${type}TableData`].find(item => item.appid === appid)[\n\t\t\t\t\t\t\t\t\t\t`total_${type}s_value`] = total\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\t// err.message 错误信息\n\t\t\t\t\t\t// err.code 错误码\n\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\tthis.loading = false\n\t\t\t\t\t})\n\t\t\t},\n\n\t\t\tnavTo(url, id) {\n\t\t\t\tif (url.indexOf('http') > -1) {\n\t\t\t\t\twindow.open(url)\n\t\t\t\t} else {\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\turl = `${url}?appid=${id}`\n\t\t\t\t\t}\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n</script>\n\n<style>\n\t.uni-stat-card-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tcolor: #555;\n\t\tfont-size: 14px;\n\t\tfont-weight: 600;\n\t\tpadding: 10px 0;\n\t\tmargin-bottom: 15px;\n\t}\n\t.uni-table-scroll {\n\t\tmin-height: auto;\n\t}\n\t.link-btn-color {\n\t\tcolor: #007AFF;\n\t\tcursor: pointer;\n\t}\n</style>\n","import mod from \"-!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1669710683199\n      var cssReload = require(\"E:/编译器/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}